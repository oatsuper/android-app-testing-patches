#summary debugging/troubleshooting advice

== Troubleshooting Guide  ==
You have applied the patches, but they do not seem to be working.  What to do?
<ol>
<li> Did you rebuild the Android system.img and reflash the device?  Are you sure?
<li><b>adb logcat</b>. The _frameworks_ patch contains a change to !ViewServer.java that logs so you can see it from _adb logcat_.  When you are executing a UXTDK test you should see lines like this in the logcat output (Galaxy Nexus running ICS 4.0.3):
<pre>
D/ViewServer(  219): DUMPQ 41b3a580
D/ViewServer(  219): DUMPQ-done 135
D/ViewServer(  219): DUMPQ ffffffff
D/ViewServer(  219): DUMPQ-done 64
</pre>
<ol/>
The DUMPQ line is issued when !ViewServer gets the request.  The line contains the window id (in hex) whose dump is being requested.  All f's means "the current focus window".

The DUMPQ-done line is logged after everything is complete.  The number on this line is the number of milliseconds it took to perform the dump.

<li><b>devicelogs</b>.  The purpose of the DUMPQ command is to deliver a description of the GUI objects in a window to the UXTDK agent.  The agent writes each dump to a separate file in a tdk/devicelogs/MM-dd-hh-mm/ directory (MM = month, dd = day, hh = hour, mm = minute).  The directory is created when the agent is started and the agent uses this directory for as long as it is executing.  Each agent DUMPQ command will result in a DUMPQ file.  Here is an excerpt from the agent's log of a test:
<font face="courier">
2012-03-29 10:54:24,643 [TDKService] DEBUG|ACTION: findTopWindow: [0](), [1]50
2012-03-29 10:54:24,644 [ViewHierarchyLoader] INFO |==> DUMPQ ffffffff<br>
2012-03-29 10:54:24,645 [ViewHierarchyLoader] INFO |waiting for in.ready<br>
2012-03-29 10:54:24,746 [ViewHierarchyLoader] INFO |==> GET_FOCUS<br>
2012-03-29 10:54:24,792 [ViewHierarchyLoader] INFO |Focus Window: 41b3a580 com.android.launcher/com.android.launcher2.Launcher
2012-03-29 10:54:24,792 [ViewHierarchyLoader] INFO |com.android.internal.policy.impl.PhoneWindow$DecorView@4168eef8: (0, 0)
2012-03-29 10:54:24,823 [ViewHierarchyLoader] INFO |}=> *DONE 13*</b>
2012-03-29 10:54:24,823 [TDKService] DEBUG|{findTopWindow} returning (3): [0]0 [1]1 [2]INFO:(dumpFile: 12_dumpq.txt)
</font>